{"version":3,"sources":["components/MyContext.js","components/searchBox.js","components/dateEditeur.js","components/traductionMeteo.js","components/resultBox.js","components/geolocalisation.js","components/erreurBox.js","components/jourEditeur.js","components/fiveDays.js","App.js","reportWebVitals.js","index.js"],"names":["defaultContext","query","setQuery","result","setResult","UserContext","React","createContext","api","process","apiGeo","SearchBox","useContext","useState","villePays","setVillePays","searchMeteoCity","event","data","target","innerHTML","split","fetch","then","response","json","dataJson","a","catch","console","error","className","id","type","placeholder","onChange","value","onKeyUp","length","map","index","onClick","name","country","editeurDate","d","day","getDay","date","getDate","month","getMonth","year","getFullYear","traductionMeteo","key","ResultBox","city","Date","Math","round","list","main","temp","weather","description","GeoLocalisation","navigator","geolocation","watchPosition","position","lat","coords","latitude","lon","longitude","log","ErrorBox","jourDate","hour","getHours","FiveDays","dt_txt","src","icon","alt","effect","place","getContent","dataTip","App","contextValue","Provider","cod","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4fe268c2.chunk.js","sourcesContent":["import React from 'react';\n\nconst defaultContext ={   \n    //questionne le nom de la commune\n    query: \"\",\n    setQuery: () => {},\n    //stocke le résultat de la requête API météo\n    result:{},    \n    setResult: () => {}   \n};\n\nexport const UserContext=React.createContext(defaultContext)","import React, { useContext, useState } from 'react';\nimport { UserContext } from './MyContext';\n\nconst api = {\n\tkey : process.env.REACT_APP_TOKEN,\n\tbase :\"https://api.openweathermap.org/data/2.5/\"\n  }\n\nconst apiGeo = {\nkey : process.env.REACT_APP_TOKEN,\nbase :\"https://api.openweathermap.org/geo/1.0/direct\"\n}\n\nfunction SearchBox () {  \n    \n    const {query}=useContext(UserContext)\n    const {setQuery}=useContext(UserContext)   \n    const {setResult}=useContext(UserContext)    \n    const [villePays,setVillePays]= useState('')\n           \n    /*recherche fait dans l'input*/\n\tconst Search = () =>{\n            \n\t\tif (query.length>2){\n\n            fetch(`${apiGeo.base}?q=${query}&appid=${api.key}&limit=5`)\n\t\t\t.then((response)=>response.json())\n            .then(async (dataJson) => {                \n                setVillePays(dataJson)             \t\n\t\t\t})\t\t\t\t\n\t\t\t.catch(console.error)          \n\t\t}\t\t\t\n\t}\t\n\n    const searchMeteoCity = event=>{  \n       \n        const data=event.target.innerHTML.split(' ')\n              \n        fetch(`${api.base}forecast?q=${data[0]},${data[1]}&units=metric&appid=${api.key}&lang=fr`)\n        .then((response)=>response.json())\n        .then(async (dataJson) => {                \n            setResult(await dataJson)\t\t\t\t\t\n            setQuery('') \n            setVillePays('')                            \t\n        })\t\t\t\t\n        .catch(console.error)    \n    }\n    \n    return(        \n        <div>\n            <div className=\"search-box\" >\n                    <input\n                        id=\"query\"\n                        type=\"text\"\n                        className=\"search-bar\"\n                        placeholder=\" Recherche par nom de ville...\"\n                        onChange={event => setQuery(event.target.value)}\n                        value={query}\n                        onKeyUp={Search}/>                                                  \n            </div>   \n\n            <div className=\"p-2\">\n                {(villePays.length>0)\n                    ? ( <div className=\"cityList\">\n                            {villePays.map((data,index)=>(\n                            <div className=\"mx-1\" key={index}>\n                                <div className=\"btn btn-info\"\n                                onClick={searchMeteoCity}\n                                >\n                                {data.name+' '+data.country}\n                                </div>\n                            </div>\n                            ))}                            \n                        </div>                 \n                    )  \n                    : (\n                    <button className=\"invisible btn\"> Espace blanc </button>\n                    ) \n                }                              \n            </div>           \n        </div>\n     )      \n}\n\nexport default SearchBox","/*edite la date au format Jour Numéro Mois Année*/\nconst editeurDate = (d) => {\n    let months = ['Janvier','Février','Mars','Avril','Mai','Juin',\n'Juillet','Août','Septembre','Octobre','Novembre','Décembre']\n    let days = ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi']\n\n    let day=days[d.getDay()]\n    let date=d.getDate()\n    let month=months[d.getMonth()]\n    let year=d.getFullYear()\n\n    return `${day} ${date} ${month} ${year}`\n}\nexport default editeurDate","/*traduction des conditions météos de l'anglais vers le français*/\n\nconst traductionMeteo = (key) =>{\n    switch (key) {\n        case 'Rain':\n            return 'Pluie'\t\t\t\n            \n        case 'Thunderstorm':\n            return 'Orage'\t\t\t\t\n            \n        case 'Drizzle':\n            return 'Bruine'\t\t\t\t\n            \n        case 'Snow':\n            return 'Neige'\n\n        case 'Atmosphere':\n        return 'Climat'\n\n        case 'Clear':\n        return 'Soleil'\n\n        case 'Clouds':\n        return 'Nuages'\n            \n        default:\t\t\t\t\n            break;\n    }\n}\n\nexport default traductionMeteo","import React, { useContext } from 'react';\nimport { UserContext } from './MyContext';\nimport editeurDate from './dateEditeur';\nimport traductionMeteo from './traductionMeteo';\n\nfunction ResultBox () {\n\n    const {result}=useContext(UserContext)\n\t\n    return(\n\t\t<div className=\"textReponse\">\t\t\t\n\t\t\t <div className=\"location\">\n\t\t\t{result.city.name} {result.city.country}\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t</div>\t\n\t\t\t<div className=\"date\">\n\t\t\t\t{editeurDate(new Date())}\n\t\t\t</div>\t\t\t\n\t\t\t<div className=\"température\">\n\t\t\t{Math.round(result.list[0].main.temp)}°c\n\t\t\t</div>\n\t\t\t<div className=\"weather\">\n\t\t\t{traductionMeteo(result.list[0].weather[0].main)} : {result.list[0].weather[0].description}\t\t\t\t\t\n\t\t\t</div>\t\t\t\t\t\n\t\t</div>   \n\t\t   \n    )    \n}\n\nexport default ResultBox","import React, { useContext } from 'react';\nimport { UserContext } from './MyContext';\n\nfunction GeoLocalisation () {   \n    \n    const {setQuery}=useContext(UserContext)       \n    const {setResult}=useContext(UserContext)\n    \n    const api = {\n        key : process.env.REACT_APP_TOKEN,\n        base :\"https://api.openweathermap.org/data/2.5/\"\n      }       \n\n    const localise = ()=>{\n       \n        if (navigator.geolocation){\n            (navigator.geolocation.watchPosition((position)=>{\n                let lat=position.coords.latitude\n                let lon=position.coords.longitude\n                \n                    fetch(`${api.base}forecast?lat=${lat}&lon=${lon}&units=metric&appid=${api.key}&lang=fr`)\n                    .then((response)=>response.json())\n                    .then(async (dataJson) => {\t                \t\t\t\t\t\n                        setResult(await dataJson)\t\t\t\t\t\n                        setQuery('')                            \t\n                    })\t\t\t\t\n                    .catch(console.error)       \t\t              \n                               \n            }))\n\n        }else{\n            console.log(\"Geolocation n'est pas supporté\")\n        }  \n        }\n\n            \n    return(\n        <div>\n            <button className=\"btn btn-info btn-lg \"\n                onClick={localise}>\n                    Météo de ma position\n            </button>\n            \n        </div>\n    )\n}\n\nexport default GeoLocalisation","import React from 'react';\n\n /* Affiche une erreur si la requête échoue*/\n\nfunction ErrorBox () {\n\n    return(\n       \t<div className=\"textErreur\">\t\t\t\t\n            <div>\t\t\t\t\n                La commune n'existe pas ou elle est mal orthographiée ...\n            </div>\t\t\t\t\n        </div>\n    )\n}\n\nexport default ErrorBox","/*edite le jour de la semaine*/\nconst jourDate = (d) => {\n\n    let date=new Date(d)\n  \n    let days = ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi']\n    let day=days[date.getDay()]\n    let hour=date.getHours()\n    \n    return (\n        <div>\n            <p>{day}</p>\n            <p>{hour}h</p>            \n        </div>\n    )      \n   \n}\nexport default jourDate","import React, { useContext } from 'react';\nimport { UserContext } from './MyContext';\nimport jourDate from './jourEditeur';\nimport ReactTooltip from 'react-tooltip';\n\nfunction FiveDays (){\n\n    const {result}=useContext(UserContext)  \n            \n    return (\n        <div className='fiveDayMeteo'>                \n                  {result.list.map((data,index)=>(\n                      <ul  data-tip={data.weather[0].description} className=\"squareMeteo border border-dark p-2\" key={index}>\n                          <li>{jourDate(data.dt_txt)}</li>\n                          <li><img src={`http://openweathermap.org/img/w/${data.weather[0].icon}.png`} alt='icone meteo'/></li>\n                          <li>{Math.round(data.main.temp)}°C</li>  \n                     </ul>                    \n                  ))}  \n                  <ReactTooltip className=\"tooltip\" effect=\"solid\" place=\"bottom\" getContent={(dataTip)=>`${dataTip}`}/>\n         \n                              \n        </div>\n    )\n}\n\nexport default FiveDays","import React, { useState } from 'react';\nimport { UserContext } from './components/MyContext';\n\nimport SearchBox from './components/searchBox'\nimport ResultBox from './components/resultBox'\nimport GeoLocalisation from './components/geolocalisation'\nimport ErrorBox from './components/erreurBox';\nimport FiveDays from './components/fiveDays'\n\nimport 'bootstrap/dist/css/bootstrap.css'\n\nfunction App() {\n\n\t/* requête du nom de la ville */\n\tconst [query, setQuery] = useState ('')\n\n\t/*stocke le résultat de la requête*/\n\tconst [result, setResult] = useState ({})\t\n\n\tconst contextValue = {\n\t\tquery,setQuery,\n\t\tresult,setResult\t\t\t\n\t  };\t\n\n  return (\n    <div className={\n\t\t(typeof result.list !=\"undefined\") \n\t\t?  result.list[0].weather[0].main\n\t\t:'intro'}>\t\t\n\n\t\t<UserContext.Provider value={contextValue}>\n     \t<main>\t\n\t\t\t\n\t\t\t<div className='container-fluid'>\n\t\t\t<SearchBox></SearchBox>\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className='container-fluid'>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t<GeoLocalisation></GeoLocalisation>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t<div className=\"col-9\">\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t{(result.cod ==='200') \n\t\t\t\t\t\t\t? (<ResultBox></ResultBox>)\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t{(result.cod ==='200') \n\t\t\t\t\t\t\t? (<FiveDays></FiveDays>)\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\t\n\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t </div>\t\n\n\t\t\t<div className='container-fluid'>\n\t\t\t\t{(result.cod ==='404') \n\t\t\t\t\t? <ErrorBox></ErrorBox>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t</div>\t\t\t\n\t\t\t\n\t\t\t\n     \t</main>\n\t  \t</UserContext.Provider>\n    </div>  \n  )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../src/dist/css/index.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}